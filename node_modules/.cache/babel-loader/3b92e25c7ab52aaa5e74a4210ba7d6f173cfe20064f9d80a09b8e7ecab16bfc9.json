{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ilnaz\\\\Desktop\\\\Pinocchio\\\\pinocchio-react\\\\src\\\\components\\\\screens\\\\Main\\\\Main.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport wallet from '../../../assets/pictures/wallet.svg';\nimport axiosDB from '../../../utils/axios/axiosConfig';\nimport Navigation from '../../ui/Navigation/Navigation';\nimport MainBalance from './Balance/Balance';\nimport MainCoins from './Balance/Coins';\nimport EnergyBar from './Energy/EnergyBar';\nimport EnergyCount from './Energy/EnergyCount';\nimport './Main.css';\nimport TapZone from './TapZone';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Main = () => {\n  _s();\n  const [currentEnergy, setCurrentEnergy] = useState(0);\n  const [currentMaxEnergy, setCurrentMaxEnergy] = useState(100);\n  const [stage, setStage] = useState(1);\n  const [coins, setCoins] = useState(0);\n  const energyReduction = 3;\n  const telegramId = '1145622789'; // Замените на фактический ID пользователя\n\n  // Функция для получения данных пользователя\n  const fetchUserData = async () => {\n    try {\n      const response = await axiosDB.get(`/user/${telegramId}`);\n      const user = response.data;\n      setCurrentEnergy(user.energy);\n      setCurrentMaxEnergy(user.maxEnergy);\n      setStage(user.stage);\n      user.stage === 1 ? setCoins(user.soldo) : setCoins(user.zecchino);\n    } catch (error) {\n      console.error('Error fetching user data:', error);\n    }\n  };\n  useEffect(() => {\n    // Начальная загрузка данных пользователя\n    fetchUserData();\n\n    // Установка интервала для обновления данных каждые 10 секунд\n    const intervalId = setInterval(() => {\n      fetchUserData();\n    }, 10000); // 10000 мс = 10 секунд\n\n    // Очистка интервала при размонтировании компонента\n    return () => clearInterval(intervalId);\n  }, [telegramId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container main\",\n    children: [/*#__PURE__*/_jsxDEV(MainBalance, {\n      stage: stage,\n      coins: coins\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(MainCoins, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(TapZone, {\n      telegramId: telegramId,\n      currentEnergy: currentEnergy,\n      setCurrentEnergy: setCurrentEnergy,\n      energyReduction: energyReduction,\n      stage: stage,\n      currentCoins: coins // Замените на фактическое значение монет\n      ,\n      setCurrentCoins: setCoins // Замените на фактическую функцию для обновления монет\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"group main\",\n      children: [/*#__PURE__*/_jsxDEV(EnergyCount, {\n        currentEnergy: currentEnergy\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/wallet\",\n        className: \"block\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"icon\",\n          src: wallet,\n          alt: \"wallet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(EnergyBar, {\n      currentEnergy: currentEnergy,\n      maxEnergy: currentMaxEnergy\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 3\n  }, this);\n};\n_s(Main, \"rhFAa4XyiG08Jxv4dsR/hB1CZXM=\");\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useEffect","useState","Link","wallet","axiosDB","Navigation","MainBalance","MainCoins","EnergyBar","EnergyCount","TapZone","jsxDEV","_jsxDEV","Main","_s","currentEnergy","setCurrentEnergy","currentMaxEnergy","setCurrentMaxEnergy","stage","setStage","coins","setCoins","energyReduction","telegramId","fetchUserData","response","get","user","data","energy","maxEnergy","soldo","zecchino","error","console","intervalId","setInterval","clearInterval","className","children","fileName","_jsxFileName","lineNumber","columnNumber","currentCoins","setCurrentCoins","to","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/ilnaz/Desktop/Pinocchio/pinocchio-react/src/components/screens/Main/Main.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport wallet from '../../../assets/pictures/wallet.svg'\r\nimport axiosDB from '../../../utils/axios/axiosConfig'\r\nimport Navigation from '../../ui/Navigation/Navigation'\r\nimport MainBalance from './Balance/Balance'\r\nimport MainCoins from './Balance/Coins'\r\nimport EnergyBar from './Energy/EnergyBar'\r\nimport EnergyCount from './Energy/EnergyCount'\r\nimport './Main.css'\r\nimport TapZone from './TapZone'\r\n\r\nconst Main = () => {\r\n\tconst [currentEnergy, setCurrentEnergy] = useState(0)\r\n\tconst [currentMaxEnergy, setCurrentMaxEnergy] = useState(100)\r\n\tconst [stage, setStage] = useState(1)\r\n\tconst [coins, setCoins] = useState(0)\r\n\tconst energyReduction = 3\r\n\tconst telegramId = '1145622789' // Замените на фактический ID пользователя\r\n\r\n\t// Функция для получения данных пользователя\r\n\tconst fetchUserData = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await axiosDB.get(`/user/${telegramId}`)\r\n\t\t\tconst user = response.data\r\n\t\t\tsetCurrentEnergy(user.energy)\r\n\t\t\tsetCurrentMaxEnergy(user.maxEnergy)\r\n\t\t\tsetStage(user.stage)\r\n\t\t\tuser.stage === 1 ? setCoins(user.soldo) : setCoins(user.zecchino)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error fetching user data:', error)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t// Начальная загрузка данных пользователя\r\n\t\tfetchUserData()\r\n\r\n\t\t// Установка интервала для обновления данных каждые 10 секунд\r\n\t\tconst intervalId = setInterval(() => {\r\n\t\t\tfetchUserData()\r\n\t\t}, 10000) // 10000 мс = 10 секунд\r\n\r\n\t\t// Очистка интервала при размонтировании компонента\r\n\t\treturn () => clearInterval(intervalId)\r\n\t}, [telegramId])\r\n\r\n\treturn (\r\n\t\t<div className='container main'>\r\n\t\t\t<MainBalance stage={stage} coins={coins} />\r\n\t\t\t<MainCoins />\r\n\t\t\t<TapZone\r\n\t\t\t\ttelegramId={telegramId}\r\n\t\t\t\tcurrentEnergy={currentEnergy}\r\n\t\t\t\tsetCurrentEnergy={setCurrentEnergy}\r\n\t\t\t\tenergyReduction={energyReduction}\r\n\t\t\t\tstage={stage}\r\n\t\t\t\tcurrentCoins={coins} // Замените на фактическое значение монет\r\n\t\t\t\tsetCurrentCoins={setCoins} // Замените на фактическую функцию для обновления монет\r\n\t\t\t/>\r\n\t\t\t<div className='group main'>\r\n\t\t\t\t<EnergyCount currentEnergy={currentEnergy} />\r\n\t\t\t\t<Link to='/wallet' className='block'>\r\n\t\t\t\t\t<img className='icon' src={wallet} alt='wallet' />\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t\t<EnergyBar currentEnergy={currentEnergy} maxEnergy={currentMaxEnergy} />\r\n\t\t\t<Navigation />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Main\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}